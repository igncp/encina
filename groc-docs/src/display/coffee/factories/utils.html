<!DOCTYPE html><html lang="en"><head><title>src/display/coffee/factories/utils</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../"><meta name="groc-document-path" content="src/display/coffee/factories/utils"><meta name="groc-project-path" content="src/display/coffee/factories/utils.coffee"><link rel="stylesheet" type="text/css" media="all" href="../../../../assets/style.css"><script type="text/javascript" src="../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">src/display/coffee/factories/utils.coffee</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper">define <span class="hljs-string">'factories/utils'</span>, [], <span class="hljs-function"><span class="hljs-params">()</span>-&gt;</span>
  <span class="hljs-function"><span class="hljs-title">create</span> = <span class="hljs-params">(encina)</span>-&gt;</span>
    gitHubRepoRegex = <span class="hljs-regexp">/^git@github.com:(.+?\/.+?)\.git$/</span>

    encina.factory <span class="hljs-string">'EncinaUtils'</span>,<span class="hljs-function"> -&gt;</span>
      {
        <span class="hljs-attribute">nbrWCommas</span>: <span class="hljs-function"><span class="hljs-params">(x, decimals = <span class="hljs-number">0</span>)</span>-&gt;</span>
          x = x.toFixed(decimals)
          parts = x.toString().split <span class="hljs-string">'.'</span>
          final = parts[<span class="hljs-number">0</span>] = parts[<span class="hljs-number">0</span>].replace <span class="hljs-regexp">/\B(?=(\d{3})+(?!\d))/g</span>, <span class="hljs-string">','</span>
          final = parts.join <span class="hljs-string">'.'</span>

        <span class="hljs-attribute">split</span>: <span class="hljs-function"><span class="hljs-params">(a, n)</span>-&gt;</span>
          <span class="hljs-keyword">if</span> n <span class="hljs-keyword">is</span> <span class="hljs-number">0</span> <span class="hljs-keyword">then</span> <span class="hljs-keyword">return</span> a
          len = a.length; out = []; i = <span class="hljs-number">0</span>
          <span class="hljs-keyword">while</span> i &lt; len
            size = Math.ceil((len - i) / n--)
            out.push(a.slice(i, i += size))
          out

        <span class="hljs-attribute">launchModal</span>: <span class="hljs-function"><span class="hljs-params">(number, id)</span>-&gt;</span>
          $(<span class="hljs-string">'#modal-'</span> + number + <span class="hljs-string">'-'</span> + id).modal()
          <span class="hljs-literal">false</span>

        <span class="hljs-attribute">isGitHubRepo</span>: <span class="hljs-function"><span class="hljs-params">(repoStr)</span>-&gt;</span> gitHubRepoRegex.test repoStr

        <span class="hljs-attribute">transformGitRepoToGitHubUrl</span>: <span class="hljs-function"><span class="hljs-params">(repoStr)</span>-&gt;</span>
          userAndRepo = gitHubRepoRegex.exec(repoStr)[<span class="hljs-number">1</span>]
          <span class="hljs-string">'https://github.com/'</span> + userAndRepo

        <span class="hljs-attribute">transformToGoogleSearchUrl</span>: <span class="hljs-function"><span class="hljs-params">(queryStr)</span>-&gt;</span>
          <span class="hljs-string">'https://www.google.com/webhp?ie=UTF-8#q='</span> + queryStr
      }
      
  create</div></div></div></div></body></html>